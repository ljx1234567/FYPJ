{"ast":null,"code":"import _defineProperty from\"/Users/liujiaxin/Documents/FYP/my-react-app/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/liujiaxin/Documents/FYP/my-react-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/liujiaxin/Documents/FYP/my-react-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([{}]),_useState2=_slicedToArray(_useState,2),backendData=_useState2[0],setBackendData=_useState2[1];useEffect(function(){fetch(\"/api\").then(function(response){return response.json();}).then(function(data){setBackendData(data);});},[]);var initialVlaues={option:\"\"};var _useState3=useState(initialVlaues),_useState4=_slicedToArray(_useState3,2),formValues=_useState4[0],setFormValues=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),formErrors=_useState6[0],setFormErrors=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isSubmit=_useState8[0],setIsSubmit=_useState8[1];var handleChange=function handleChange(e){console.log(e.target);var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormValues(_objectSpread(_objectSpread({},formValues),{},_defineProperty({},name,value)));console.log(formValues);};var handleSubmit=function handleSubmit(e){e.preventDefault();setFormErrors(validate(formValues));setIsSubmit(true);if(Object.keys(formErrors).length===0&&isSubmit){}};useEffect(function(){console.log(formErrors);if(Object.keys(formErrors).length==0&&isSubmit){console.log(formValues);}},[formErrors]);var validate=function validate(values){var errors={};if(!values.option){errors.option=\"Option is required\";}return errors;};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(formValues,undefined,2)}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{class:\"form-group\",style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"label\",{for:\"option\",children:\"Option:\"}),/*#__PURE__*/_jsxs(\"select\",{style:{margin:\"auto\",display:\"block\",width:\"40%\"},type:\"text\",name:\"option\",value:formValues.option,class:\"form-control\",id:\"age\",onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"----------------------------------------------------------------\"}),/*#__PURE__*/_jsx(\"option\",{value:\"User\",children:\"User\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Admin\",children:\"Admin\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:formErrors.gender}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn btn-primary\",children:\"Submit\"})]})}),typeof backendData.admins==='undefined'?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):backendData.admins.map(function(admin,i){return/*#__PURE__*/_jsx(\"p\",{children:admin},i);})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","App","backendData","setBackendData","fetch","then","response","json","data","initialVlaues","option","formValues","setFormValues","formErrors","setFormErrors","isSubmit","setIsSubmit","handleChange","e","console","log","target","name","value","handleSubmit","preventDefault","validate","Object","keys","length","values","errors","JSON","stringify","undefined","textAlign","margin","display","width","color","gender","admins","map","admin","i"],"sources":["/Users/liujiaxin/Documents/FYP/my-react-app/client/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\n\nfunction App() {\n  const [backendData, setBackendData] = useState([{}])\n\n  useEffect(() => {\n    fetch(\"/api\").then(\n      response => response.json()\n    ).then(\n      data => {\n        setBackendData(data)\n      }\n    )\n  }, [])\n\n  const initialVlaues = {option: \"\"};\n    const [formValues, setFormValues]= useState(initialVlaues)\n    const [formErrors, setFormErrors] = useState({})\n    const [isSubmit, setIsSubmit] = useState(false);\n\n    const handleChange = (e) => {\n        console.log(e.target);\n        const { name, value } = e.target\n        setFormValues({...formValues, [name]:value});\n        console.log(formValues)\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        setFormErrors(validate(formValues));\n        setIsSubmit(true);\n        if(Object.keys(formErrors).length === 0 && isSubmit){\n            \n        }\n    }\n\n    useEffect(() => {\n        console.log(formErrors);\n        if(Object.keys(formErrors).length == 0 && isSubmit) {\n            console.log(formValues);\n        }\n    }, [formErrors] );\n\n    const validate = (values) => {\n        const errors = {}\n        if(!values.option){\n            errors.option = \"Option is required\";\n        }\n        return errors;\n    }\n\n  return (\n    <div>\n\n      <pre>{ JSON.stringify(formValues, undefined, 2) }</pre>\n        <form onSubmit={handleSubmit}>\n            <div class=\"form-group\" style={{textAlign: \"center\"}}>\n                <label for=\"option\">Option:</label>\n                <select \n                style={{margin: \"auto\", display: \"block\", width: \"40%\"}}\n                type=\"text\"\n                name=\"option\"\n                value={ formValues.option }\n                class=\"form-control\" id=\"age\"\n                onChange={handleChange}>\n                    <option value=\"\">----------------------------------------------------------------</option>\n                    <option value=\"User\">User</option>\n                    <option value=\"Admin\">Admin</option>\n                </select>\n                <p style={{color: \"red\"}}>{formErrors.gender}</p>\n                <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n            </div>\n        </form>\n\n      {(typeof backendData.admins === 'undefined') ? (\n        <p>Loading...</p>\n      ): (\n        backendData.admins.map((admin, i) => (\n          <p key={i}>{admin}</p>\n        ))\n      )}\n\n    </div>\n  )\n}\n  \n  export default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}